{"version":3,"file":"graphs.js","sourceRoot":"","sources":["../../src/graphs.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * ```ts\n * import type {\n *   Graph,\n *   GraphVertexCollection,\n *   GraphEdgeCollection,\n * } from \"arangojs/graphs\";\n * ```\n *\n * The \"graphs\" module provides graph related types and interfaces\n * for TypeScript.\n *\n * @packageDocumentation\n */\nimport * as collections from \"./collections.js\";\nimport * as databases from \"./databases.js\";\nimport * as documents from \"./documents.js\";\nimport * as errors from \"./errors.js\";\nimport { DOCUMENT_NOT_FOUND, GRAPH_NOT_FOUND } from \"./lib/codes.js\";\n\n/**\n * @internal\n */\nfunction mungeGharialResponse(body: any, prop: \"vertex\" | \"edge\" | \"removed\") {\n  const { [prop]: doc, ...meta } = body;\n  return { ...meta, ...doc };\n}\n\n/**\n * @internal\n */\nfunction coerceEdgeDefinition(options: EdgeDefinitionOptions): EdgeDefinition {\n  const edgeDefinition = {} as EdgeDefinition;\n  edgeDefinition.collection = collections.collectionToString(\n    options.collection\n  );\n  edgeDefinition.from = Array.isArray(options.from)\n    ? options.from.map(collections.collectionToString)\n    : [collections.collectionToString(options.from)];\n  edgeDefinition.to = Array.isArray(options.to)\n    ? options.to.map(collections.collectionToString)\n    : [collections.collectionToString(options.to)];\n  return edgeDefinition;\n}\n\n//#region Graph document operation options\n/**\n * Options for retrieving a document from a graph collection.\n */\nexport type ReadGraphDocumentOptions = {\n  /**\n   * If set to a document revision, the document will only be returned if its\n   * `_rev` property matches this value.\n   *\n   * See also {@link documents.DocumentMetadata}.\n   */\n  rev?: string;\n  /**\n   * If set to `true`, `null` is returned instead of an exception being thrown\n   * if the document does not exist.\n   *\n   * Default: `false`\n   */\n  graceful?: boolean;\n  /**\n   * If set to `true`, the request will explicitly permit ArangoDB to return a\n   * potentially dirty or stale result and arangojs will load balance the\n   * request without distinguishing between leaders and followers.\n   *\n   * Default: `false`\n   */\n  allowDirtyRead?: boolean;\n};\n\n/**\n * Options for inserting a document into a graph collection.\n */\nexport type InsertGraphDocumentOptions = {\n  /**\n   * If set to `true`, data will be synchronized to disk before returning.\n   *\n   * Default: `false`\n   */\n  waitForSync?: boolean;\n  /**\n   * If set to `true`, the complete new document will be returned as the `new`\n   * property on the result object.\n   *\n   * Default: `false`\n   */\n  returnNew?: boolean;\n};\n\n/**\n * Options for replacing a document in a graph collection.\n */\nexport type ReplaceGraphDocumentOptions = {\n  /**\n   * If set to a document revision, the document will only be modified if its\n   * `_rev` property matches this value.\n   *\n   * See also {@link documents.DocumentMetadata}.\n   */\n  rev?: string;\n  /**\n   * If set to `true`, data will be synchronized to disk before returning.\n   *\n   * Default: `false`\n   */\n  waitForSync?: boolean;\n  /**\n   * If set to `false`, properties with a value of `null` will be removed from\n   * the new document.\n   *\n   * Default: `true`\n   */\n  keepNull?: boolean;\n  /**\n   * If set to `true`, the complete old document will be returned as the `old`\n   * property on the result object.\n   *\n   * Default: `false`\n   */\n  returnOld?: boolean;\n  /**\n   * If set to `true`, the complete new document will be returned as the `new`\n   * property on the result object.\n   *\n   * Default: `false`\n   */\n  returnNew?: boolean;\n};\n\n/**\n * Options for removing a document from a graph collection.\n */\nexport type RemoveGraphDocumentOptions = {\n  /**\n   * If set to a document revision, the document will only be removed if its\n   * `_rev` property matches this value.\n   *\n   * See also {@link documents.DocumentMetadata}.\n   */\n  rev?: string;\n  /**\n   * If set to `true`, data will be synchronized to disk before returning.\n   *\n   * Default: `false`\n   */\n  waitForSync?: boolean;\n  /**\n   * If set to `true`, the complete old document will be returned as the `old`\n   * property on the result object.\n   *\n   * Default: `false`\n   */\n  returnOld?: boolean;\n};\n//#endregion\n\n//#region Edge definition operation options\n/**\n * An edge definition used to define a collection of edges in a {@link Graph}.\n */\nexport type EdgeDefinitionOptions = {\n  /**\n   * Collection containing the edges.\n   */\n  collection: string | collections.ArangoCollection;\n  /**\n   * Collection or collections containing the start vertices.\n   */\n  from:\n    | (string | collections.ArangoCollection)[]\n    | string\n    | collections.ArangoCollection;\n  /**\n   * Collection or collections containing the end vertices.\n   */\n  to:\n    | (string | collections.ArangoCollection)[]\n    | string\n    | collections.ArangoCollection;\n};\n//#endregion\n\n//#region GraphDescription\n/**\n * General information about a graph.\n */\nexport type GraphDescription = {\n  /**\n   * Key of the document internally representing this graph.\n   *\n   * See {@link documents.DocumentMetadata}.\n   *\n   * @internal\n   */\n  _key: string;\n  /**\n   * Unique identifier of the document internally representing this graph.\n   *\n   * See {@link documents.DocumentMetadata}.\n   *\n   * @internal\n   */\n  _id: string;\n  /**\n   * Revision of the document internally representing this graph.\n   *\n   * See {@link documents.DocumentMetadata}.\n   *\n   * @internal\n   */\n  _rev: string;\n  /**\n   * Name of the graph.\n   */\n  name: string;\n  /**\n   * Definitions for the relations of the graph.\n   */\n  edgeDefinitions: EdgeDefinition[];\n  /**\n   * Additional vertex collections. Documents within these collections do not\n   * have edges within this graph.\n   */\n  orphanCollections: string[];\n\n  /**\n   * (Cluster only.) Number of shards that is used for every collection\n   * within this graph.\n   */\n  numberOfShards?: number;\n  /**\n   * (Cluster only.) Replication factor used when initially creating\n   * collections for this graph.\n   */\n  replicationFactor?: number;\n  /**\n   * (Cluster only.) Write concern for new collections in the graph.\n   */\n  writeConcern?: number;\n  /**\n   * (Enterprise Edition cluster only.) If set to `true`, the graph is a\n   * SatelliteGraph.\n   */\n  isSatellite?: boolean;\n  /**\n   * (Enterprise Edition cluster only.) If set to `true`, the graph has been\n   * created as a SmartGraph.\n   */\n  isSmart?: boolean;\n  /**\n   * (Enterprise Edition cluster only.) Attribute containing the shard key\n   * value to use for smart sharding.\n   */\n  smartGraphAttribute?: string;\n  /**\n   * (Enterprise Edition cluster only.) If set to `true`, the graph has been\n   * created as a Disjoint SmartGraph.\n   */\n  isDisjoint?: boolean;\n};\n\n/**\n * Definition of a relation in a {@link Graph}.\n */\nexport type EdgeDefinition = {\n  /**\n   * Name of the collection containing the edges.\n   */\n  collection: string;\n  /**\n   * Array of names of collections containing the start vertices.\n   */\n  from: string[];\n  /**\n   * Array of names of collections containing the end vertices.\n   */\n  to: string[];\n};\n//#endregion\n\n//#region Graph operation options\n/**\n * Option for creating a graph.\n */\nexport type CreateGraphOptions = {\n  /**\n   * If set to `true`, the request will wait until all modifications have been\n   * synchronized to disk before returning successfully.\n   *\n   * Default: `false`\n   */\n  waitForSync?: boolean;\n  /**\n   * Additional vertex collections. Documents within these collections do not\n   * have edges within this graph.\n   */\n  orphanCollections?:\n    | (string | collections.ArangoCollection)[]\n    | string\n    | collections.ArangoCollection;\n\n  /**\n   * (Cluster only.) Number of shards that is used for every collection\n   * within this graph.\n   *\n   * Has no effect when `replicationFactor` is set to `\"satellite\"`.\n   */\n  numberOfShards?: number;\n  /**\n   * (Cluster only.) Replication factor used when initially creating\n   * collections for this graph.\n   *\n   * Default: `1`\n   */\n  replicationFactor?: number | \"satellite\";\n  /**\n   * (Cluster only.) Write concern for new collections in the graph.\n   *\n   * Has no effect when `replicationFactor` is set to `\"satellite\"`.\n   */\n  writeConcern?: number;\n\n  // Extra options\n  /**\n   * (Enterprise Edition cluster only.) If set to `true`, the graph will be\n   * created as a SmartGraph.\n   *\n   * Default: `false`\n   */\n  isSmart?: boolean;\n  /**\n   * (Enterprise Edition cluster only.) Attribute containing the shard key\n   * value to use for smart sharding.\n   */\n  smartGraphAttribute?: string;\n  /**\n   * (Enterprise Edition cluster only.) If set to `true`, the graph will be\n   * created as a Disjoint SmartGraph.\n   *\n   * Default: `false`\n   */\n  isDisjoint?: boolean;\n  /**\n   * (Enterprise Edition cluster only.) Collections to be included in a Hybrid\n   * SmartGraph.\n   */\n  satellites?: (string | collections.ArangoCollection)[];\n};\n\n/**\n * Options for adding a vertex collection to a graph.\n */\nexport type AddVertexCollectionOptions = {\n  /**\n   * (Enterprise Edition cluster only.) Collections to be included in a Hybrid\n   * SmartGraph.\n   */\n  satellites?: (string | collections.ArangoCollection)[];\n};\n\n/**\n * Options for adding an edge definition to a graph.\n */\nexport type AddEdgeDefinitionOptions = {\n  /**\n   * (Enterprise Edition cluster only.) Collections to be included in a Hybrid\n   * SmartGraph.\n   */\n  satellites?: (string | collections.ArangoCollection)[];\n};\n\n/**\n * Options for replacing an edge definition in a graph.\n */\nexport type ReplaceEdgeDefinitionOptions = {\n  /**\n   * (Enterprise Edition cluster only.) Collections to be included in a Hybrid\n   * SmartGraph.\n   */\n  satellites?: string[];\n};\n//#endregion\n\n//#region GraphVertexCollection class\n/**\n * Represents a {@link collections.DocumentCollection} of vertices in a {@link Graph}.\n *\n * @param EntryResultType - Type to represent vertex document contents returned\n * by the server (including computed properties).\n * @param EntryInputType - Type to represent vertex document contents passed\n * when inserting or replacing vertex documents (without computed properties).\n */\nexport class GraphVertexCollection<\n  EntryResultType extends Record<string, any> = any,\n  EntryInputType extends Record<string, any> = EntryResultType,\n> implements collections.ArangoCollection\n{\n  protected _db: databases.Database;\n  protected _name: string;\n  protected _graph: Graph;\n  protected _collection: collections.DocumentCollection<\n    EntryResultType,\n    EntryInputType\n  >;\n\n  /**\n   * @internal\n   */\n  constructor(db: databases.Database, name: string, graph: Graph) {\n    this._db = db;\n    this._collection = db.collection(name);\n    this._name = this._collection.name;\n    this._graph = graph;\n  }\n\n  /**\n   * @internal\n   *\n   * Indicates that this object represents an ArangoDB collection.\n   */\n  get isArangoCollection(): true {\n    return true;\n  }\n\n  /**\n   * Database this vertex collection belongs to.\n   */\n  get database() {\n    return this._db;\n  }\n\n  /**\n   * Name of the collection.\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * A {@link collections.DocumentCollection} instance for this vertex collection.\n   */\n  get collection() {\n    return this._collection;\n  }\n\n  /**\n   * The {@link Graph} instance this vertex collection is bound to.\n   */\n  get graph() {\n    return this._graph;\n  }\n\n  /**\n   * Checks whether a vertex matching the given key or id exists in this\n   * collection.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * const exists = await collection.vertexExists(\"abc123\");\n   * if (!exists) {\n   *   console.log(\"Vertex does not exist\");\n   * }\n   * ```\n   */\n  async vertexExists(selector: documents.DocumentSelector): Promise<boolean> {\n    try {\n      return await this._db.request(\n        {\n          method: \"HEAD\",\n          pathname: `/_api/gharial/${encodeURIComponent(\n            this.graph.name\n          )}/vertex/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        },\n        () => true\n      );\n    } catch (err: any) {\n      if (err.code === 404) {\n        return false;\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Retrieves the vertex matching the given key or id.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   * @param options - Options for retrieving the vertex.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * try {\n   *   const vertex = await collection.vertex(\"abc123\");\n   *   console.log(vertex);\n   * } catch (e: any) {\n   *   console.error(\"Could not find vertex\");\n   * }\n   * ```\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * const vertex = await collection.vertex(\"abc123\", { graceful: true });\n   * if (vertex) {\n   *   console.log(vertex);\n   * } else {\n   *   console.error(\"Could not find vertex\");\n   * }\n   * ```\n   */\n  async vertex(\n    selector: documents.DocumentSelector,\n    options?: ReadGraphDocumentOptions\n  ): Promise<documents.Document<EntryResultType>>;\n  /**\n   * Retrieves the vertex matching the given key or id.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   * @param graceful - If set to `true`, `null` is returned instead of an\n   * exception being thrown if the vertex does not exist.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * try {\n   *   const vertex = await collection.vertex(\"abc123\", false);\n   *   console.log(vertex);\n   * } catch (e: any) {\n   *   console.error(\"Could not find vertex\");\n   * }\n   * ```\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * const vertex = await collection.vertex(\"abc123\", true);\n   * if (vertex) {\n   *   console.log(vertex);\n   * } else {\n   *   console.error(\"Could not find vertex\");\n   * }\n   * ```\n   */\n  async vertex(\n    selector: documents.DocumentSelector,\n    graceful: boolean\n  ): Promise<documents.Document<EntryResultType>>;\n  async vertex(\n    selector: documents.DocumentSelector,\n    options: boolean | ReadGraphDocumentOptions = {}\n  ): Promise<documents.Document<EntryResultType> | null> {\n    if (typeof options === \"boolean\") {\n      options = { graceful: options };\n    }\n    const {\n      allowDirtyRead = undefined,\n      graceful = false,\n      rev,\n      ...search\n    } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    const result = this._db.request(\n      {\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/vertex/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        headers,\n        search,\n        allowDirtyRead,\n      },\n      (res) => res.parsedBody.vertex\n    );\n    if (!graceful) return result;\n    try {\n      return await result;\n    } catch (err: any) {\n      if (errors.isArangoError(err) && err.errorNum === DOCUMENT_NOT_FOUND) {\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Inserts a new vertex with the given `data` into the collection.\n   *\n   * @param data - The contents of the new vertex.\n   * @param options - Options for inserting the vertex.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"friends\");\n   * const result = await collection.save(\n   *   { _key: \"a\", color: \"blue\", count: 1 },\n   *   { returnNew: true }\n   * );\n   * console.log(result.new.color, result.new.count); // \"blue\" 1\n   * ```\n   */\n  save(\n    data: documents.DocumentData<EntryInputType>,\n    options?: InsertGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & { new?: documents.Document<EntryResultType> }\n  >;\n  save(\n    data: documents.DocumentData<EntryInputType>,\n    options?: InsertGraphDocumentOptions\n  ) {\n    return this._db.request(\n      {\n        method: \"POST\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/vertex/${encodeURIComponent(this._name)}`,\n        body: data,\n        search: options,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"vertex\")\n    );\n  }\n\n  /**\n   * Replaces an existing vertex in the collection.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   * @param newData - The contents of the new vertex.\n   * @param options - Options for replacing the vertex.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.collection(\"vertices\");\n   * await collection.save({ _key: \"a\", color: \"blue\", count: 1 });\n   * const result = await collection.replace(\n   *   \"a\",\n   *   { color: \"red\" },\n   *   { returnNew: true }\n   * );\n   * console.log(result.new.color, result.new.count); // \"red\" undefined\n   * ```\n   */\n  replace(\n    selector: documents.DocumentSelector,\n    newData: documents.DocumentData<EntryInputType>,\n    options?: ReplaceGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & {\n      new?: documents.Document<EntryResultType>;\n      old?: documents.Document<EntryResultType>;\n    }\n  >;\n  replace(\n    selector: documents.DocumentSelector,\n    newData: documents.DocumentData<EntryInputType>,\n    options: ReplaceGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const { rev, ...search } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"PUT\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/vertex/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        body: newData,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"vertex\")\n    );\n  }\n\n  /**\n   * Updates an existing vertex in the collection.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   * @param newData - The data for updating the vertex.\n   * @param options - Options for updating the vertex.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.collection(\"vertices\");\n   * await collection.save({ _key: \"a\", color: \"blue\", count: 1 });\n   * const result = await collection.update(\n   *   \"a\",\n   *   { count: 2 },\n   *   { returnNew: true }\n   * );\n   * console.log(result.new.color, result.new.count); // \"blue\" 2\n   * ```\n   */\n  update(\n    selector: documents.DocumentSelector,\n    newData: documents.Patch<documents.DocumentData<EntryInputType>>,\n    options?: ReplaceGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & {\n      new?: documents.Document<EntryResultType>;\n      old?: documents.Document<EntryResultType>;\n    }\n  >;\n  update(\n    selector: documents.DocumentSelector,\n    newData: documents.Patch<documents.DocumentData<EntryInputType>>,\n    options: ReplaceGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const headers: Record<string, string> = {};\n    const { rev, ...search } = options;\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"PATCH\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/vertex/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        body: newData,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"vertex\")\n    );\n  }\n\n  /**\n   * Removes an existing vertex from the collection.\n   *\n   * Throws an exception when passed a vertex or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a vertex from this collection).\n   * @param options - Options for removing the vertex.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * await collection.remove(\"abc123\");\n   * // document with key \"abc123\" deleted\n   * ```\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.vertexCollection(\"vertices\");\n   * const doc = await collection.vertex(\"abc123\");\n   * await collection.remove(doc);\n   * // document with key \"abc123\" deleted\n   * ```\n   */\n  remove(\n    selector: documents.DocumentSelector,\n    options?: RemoveGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & { old?: documents.Document<EntryResultType> }\n  >;\n  remove(\n    selector: documents.DocumentSelector,\n    options: RemoveGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const headers: Record<string, string> = {};\n    const { rev, ...search } = options;\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"DELETE\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/vertex/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"removed\")\n    );\n  }\n}\n//#endregion\n\n//#region GraphEdgeCollection class\n/**\n * Represents a {@link collections.EdgeCollection} of edges in a {@link Graph}.\n *\n * @param EntryResultType - Type to represent edge document contents returned\n * by the server (including computed properties).\n * @param EntryInputType - Type to represent edge document contents passed\n * when inserting or replacing edge documents (without computed properties).\n */\nexport class GraphEdgeCollection<\n  EntryResultType extends Record<string, any> = any,\n  EntryInputType extends Record<string, any> = EntryResultType,\n> implements collections.ArangoCollection\n{\n  protected _db: databases.Database;\n  protected _name: string;\n  protected _graph: Graph;\n  protected _collection: collections.EdgeCollection<\n    EntryResultType,\n    EntryInputType\n  >;\n\n  /**\n   * @internal\n   */\n  constructor(db: databases.Database, name: string, graph: Graph) {\n    this._db = db;\n    this._collection = db.collection(name);\n    this._name = this._collection.name;\n    this._graph = graph;\n  }\n\n  /**\n   * @internal\n   *\n   * Indicates that this object represents an ArangoDB collection.\n   */\n  get isArangoCollection(): true {\n    return true;\n  }\n\n  /**\n   * Database this edge collection belongs to.\n   */\n  get database() {\n    return this._db;\n  }\n\n  /**\n   * Name of the collection.\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * A {@link collections.EdgeCollection} instance for this edge collection.\n   */\n  get collection() {\n    return this._collection;\n  }\n\n  /**\n   * The {@link Graph} instance this edge collection is bound to.\n   */\n  get graph() {\n    return this._graph;\n  }\n\n  /**\n   * Checks whether a edge matching the given key or id exists in this\n   * collection.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.edgeCollection(\"friends\")\n   * const exists = await collection.edgeExists(\"abc123\");\n   * if (!exists) {\n   *   console.log(\"Edge does not exist\");\n   * }\n   * ```\n   */\n  async edgeExists(selector: documents.DocumentSelector): Promise<boolean> {\n    try {\n      return await this._db.request(\n        {\n          method: \"HEAD\",\n          pathname: `/_api/gharial/${encodeURIComponent(\n            this.graph.name\n          )}/edge/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        },\n        () => true\n      );\n    } catch (err: any) {\n      if (err.code === 404) {\n        return false;\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Retrieves the edge matching the given key or id.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection, or if the edge does not exist.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   * @param options - Options for retrieving the edge.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.edgeCollection(\"friends\")\n   * try {\n   *   const edge = await collection.edge(\"abc123\");\n   *   console.log(edge);\n   * } catch (e: any) {\n   *   console.error(\"Could not find edge\");\n   * }\n   * ```\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.edgeCollection(\"friends\")\n   * const edge = await collection.edge(\"abc123\", { graceful: true });\n   * if (edge) {\n   *   console.log(edge);\n   * } else {\n   *   console.error(\"Edge does not exist\");\n   * }\n   * ```\n   */\n  async edge(\n    selector: documents.DocumentSelector,\n    options?: ReadGraphDocumentOptions\n  ): Promise<documents.Edge<EntryResultType>>;\n  /**\n   * Retrieves the edge matching the given key or id.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection, or if the edge does not exist.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   * @param graceful - If set to `true`, `null` is returned instead of an\n   * exception being thrown if the edge does not exist.\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.edgeCollection(\"friends\")\n   * try {\n   *   const edge = await collection.edge(\"abc123\", false);\n   *   console.log(edge);\n   * } catch (e: any) {\n   *   console.error(\"Could not find edge\");\n   * }\n   * ```\n   *\n   * @example\n   * ```js\n   * const graph = db.graph(\"some-graph\");\n   * const collection = graph.edgeCollection(\"friends\")\n   * const edge = await collection.edge(\"abc123\", true);\n   * if (edge) {\n   *   console.log(edge);\n   * } else {\n   *   console.error(\"Edge does not exist\");\n   * }\n   * ```\n   */\n  async edge(\n    selector: documents.DocumentSelector,\n    graceful: boolean\n  ): Promise<documents.Edge<EntryResultType>>;\n  async edge(\n    selector: documents.DocumentSelector,\n    options: boolean | ReadGraphDocumentOptions = {}\n  ): Promise<documents.Edge<EntryResultType> | null> {\n    if (typeof options === \"boolean\") {\n      options = { graceful: options };\n    }\n    const {\n      allowDirtyRead = undefined,\n      graceful = false,\n      rev,\n      ...search\n    } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    const result = this._db.request(\n      {\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/edge/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        search,\n        allowDirtyRead,\n      },\n      (res) => res.parsedBody.edge\n    );\n    if (!graceful) return result;\n    try {\n      return await result;\n    } catch (err: any) {\n      if (errors.isArangoError(err) && err.errorNum === DOCUMENT_NOT_FOUND) {\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Inserts a new edge with the given `data` into the collection.\n   *\n   * @param data - The contents of the new edge.\n   * @param options - Options for inserting the edge.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const collection = db.collection(\"friends\");\n   * const result = await collection.save(\n   *   { _from: \"users/rana\", _to: \"users/mudasir\", active: false },\n   *   { returnNew: true }\n   * );\n   * ```\n   */\n  save(\n    data: documents.EdgeData<EntryInputType>,\n    options?: InsertGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & { new?: documents.Edge<EntryResultType> }\n  >;\n  save(\n    data: documents.EdgeData<EntryInputType>,\n    options?: InsertGraphDocumentOptions\n  ) {\n    return this._db.request(\n      {\n        method: \"POST\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/edge/${encodeURIComponent(this._name)}`,\n        body: data,\n        search: options,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"edge\")\n    );\n  }\n\n  /**\n   * Replaces an existing edge in the collection.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   * @param newData - The contents of the new edge.\n   * @param options - Options for replacing the edge.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const collection = db.collection(\"friends\");\n   * await collection.save(\n   *   {\n   *     _key: \"musadir\",\n   *     _from: \"users/rana\",\n   *     _to: \"users/mudasir\",\n   *     active: true,\n   *     best: true\n   *   }\n   * );\n   * const result = await collection.replace(\n   *   \"musadir\",\n   *   { active: false },\n   *   { returnNew: true }\n   * );\n   * console.log(result.new.active, result.new.best); // false undefined\n   * ```\n   */\n  replace(\n    selector: documents.DocumentSelector,\n    newData: documents.EdgeData<EntryInputType>,\n    options?: ReplaceGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & {\n      new?: documents.Edge<EntryResultType>;\n      old?: documents.Edge<EntryResultType>;\n    }\n  >;\n  replace(\n    selector: documents.DocumentSelector,\n    newData: documents.EdgeData<EntryInputType>,\n    options: ReplaceGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const { rev, ...search } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"PUT\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/edge/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        body: newData,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"edge\")\n    );\n  }\n\n  /**\n   * Updates an existing edge in the collection.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   * @param newData - The data for updating the edge.\n   * @param options - Options for updating the edge.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const collection = db.collection(\"friends\");\n   * await collection.save(\n   *   {\n   *     _key: \"musadir\",\n   *     _from: \"users/rana\",\n   *     _to: \"users/mudasir\",\n   *     active: true,\n   *     best: true\n   *   }\n   * );\n   * const result = await collection.update(\n   *   \"musadir\",\n   *   { active: false },\n   *   { returnNew: true }\n   * );\n   * console.log(result.new.active, result.new.best); // false true\n   * ```\n   */\n  update(\n    selector: documents.DocumentSelector,\n    newData: documents.Patch<documents.EdgeData<EntryInputType>>,\n    options?: ReplaceGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & {\n      new?: documents.Edge<EntryResultType>;\n      old?: documents.Edge<EntryResultType>;\n    }\n  >;\n  update(\n    selector: documents.DocumentSelector,\n    newData: documents.Patch<documents.EdgeData<EntryInputType>>,\n    options: ReplaceGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const { rev, ...search } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"PATCH\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/edge/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        body: newData,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"edge\")\n    );\n  }\n\n  /**\n   * Removes an existing edge from the collection.\n   *\n   * Throws an exception when passed a edge or `_id` from a different\n   * collection.\n   *\n   * @param selector - Document `_key`, `_id` or object with either of those\n   * properties (e.g. a edge from this collection).\n   * @param options - Options for removing the edge.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const collection = db.collection(\"friends\");\n   * const doc = await collection.edge(\"musadir\");\n   * await collection.remove(doc);\n   * // edge with key \"musadir\" deleted\n   * ```\n   */\n  remove(\n    selector: documents.DocumentSelector,\n    options?: RemoveGraphDocumentOptions\n  ): Promise<\n    documents.DocumentMetadata & { old?: documents.Edge<EntryResultType> }\n  >;\n  remove(\n    selector: documents.DocumentSelector,\n    options: RemoveGraphDocumentOptions = {}\n  ) {\n    if (typeof options === \"string\") {\n      options = { rev: options };\n    }\n    const { rev, ...search } = options;\n    const headers: Record<string, string> = {};\n    if (rev) headers[\"if-match\"] = rev;\n    return this._db.request(\n      {\n        method: \"DELETE\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this.graph.name\n        )}/edge/${encodeURI(documents._documentHandle(selector, this._name))}`,\n        search,\n        headers,\n      },\n      (res) => mungeGharialResponse(res.parsedBody, \"removed\")\n    );\n  }\n}\n//#endregion\n\n//#region Graph class\n/**\n * Indicates whether the given value represents a {@link Graph}.\n *\n * @param graph - A value that might be a Graph.\n */\nexport function isArangoGraph(graph: any): graph is Graph {\n  return Boolean(graph && graph.isArangoGraph);\n}\n\n/**\n * Represents a graph in a {@link databases.Database}.\n */\nexport class Graph {\n  protected _name: string;\n\n  protected _db: databases.Database;\n\n  /**\n   * @internal\n   */\n  constructor(db: databases.Database, name: string) {\n    this._db = db;\n    this._name = name;\n  }\n\n  /**\n   * Indicates that this object represents an ArangoDB Graph.\n   */\n  get isArangoGraph(): true {\n    return true;\n  }\n\n  /**\n   * Database this graph belongs to.\n   */\n  get database() {\n    return this._db;\n  }\n\n  /**\n   * Name of the graph.\n   */\n  get name() {\n    return this._name;\n  }\n\n  /**\n   * Checks whether the graph exists.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const result = await graph.exists();\n   * // result indicates whether the graph exists\n   * ```\n   */\n  async exists(): Promise<boolean> {\n    try {\n      await this.get();\n      return true;\n    } catch (err: any) {\n      if (errors.isArangoError(err) && err.errorNum === GRAPH_NOT_FOUND) {\n        return false;\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Retrieves general information about the graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const data = await graph.get();\n   * // data contains general information about the graph\n   * ```\n   */\n  get(): Promise<GraphDescription> {\n    return this._db.request(\n      { pathname: `/_api/gharial/${encodeURIComponent(this._name)}` },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Creates a graph with the given `edgeDefinitions` and `options` for this\n   * graph's name.\n   *\n   * @param edgeDefinitions - Definitions for the relations of the graph.\n   * @param options - Options for creating the graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * // graph now exists\n   * ```\n   */\n  create(\n    edgeDefinitions: EdgeDefinitionOptions[],\n    options: CreateGraphOptions = {}\n  ): Promise<GraphDescription> {\n    const { orphanCollections, satellites, waitForSync, isSmart, ...opts } =\n      options;\n    return this._db.request(\n      {\n        method: \"POST\",\n        pathname: \"/_api/gharial\",\n        body: {\n          orphanCollections:\n            orphanCollections &&\n            (Array.isArray(orphanCollections)\n              ? orphanCollections.map(collections.collectionToString)\n              : [collections.collectionToString(orphanCollections)]),\n          edgeDefinitions: edgeDefinitions.map(coerceEdgeDefinition),\n          isSmart,\n          name: this._name,\n          options: {\n            ...opts,\n            satellites: satellites?.map(collections.collectionToString),\n          },\n        },\n        search: { waitForSync },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Deletes the graph from the database.\n   *\n   * @param dropCollections - If set to `true`, the collections associated with\n   * the graph will also be deleted.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * await graph.drop();\n   * // the graph \"some-graph\" no longer exists\n   * ```\n   */\n  drop(dropCollections: boolean = false): Promise<boolean> {\n    return this._db.request(\n      {\n        method: \"DELETE\",\n        pathname: `/_api/gharial/${encodeURIComponent(this._name)}`,\n        search: { dropCollections },\n      },\n      (res) => res.parsedBody.removed\n    );\n  }\n\n  /**\n   * Returns a {@link GraphVertexCollection} instance for the given collection\n   * name representing the collection in this graph.\n   *\n   * @param T - Type to use for document data. Defaults to `any`.\n   * @param collection - Name of the vertex collection.\n   */\n  vertexCollection<T extends Record<string, any> = any>(\n    collection: string | collections.ArangoCollection\n  ): GraphVertexCollection<T> {\n    return new GraphVertexCollection<T>(\n      this._db,\n      collections.collectionToString(collection),\n      this\n    );\n  }\n\n  /**\n   * Fetches all vertex collections of this graph from the database and returns\n   * an array of their names.\n   *\n   * See also {@link Graph#vertexCollections}.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * const vertexCollectionNames = await graph.listVertexCollections();\n   * // [\"start-vertices\", \"end-vertices\"]\n   * ```\n   */\n  listVertexCollections(): Promise<string[]> {\n    return this._db.request(\n      { pathname: `/_api/gharial/${encodeURIComponent(this._name)}/vertex` },\n      (res) => res.parsedBody.collections\n    );\n  }\n\n  /**\n   * Fetches all vertex collections of this graph from the database and returns\n   * an array of {@link GraphVertexCollection} instances.\n   *\n   * See also {@link Graph#listVertexCollections}.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * const vertexCollections = await graph.vertexCollections();\n   * for (const vertexCollection of vertexCollections) {\n   *   console.log(vertexCollection.name);\n   *   // \"start-vertices\"\n   *   // \"end-vertices\"\n   * }\n   * ```\n   */\n  async vertexCollections(): Promise<GraphVertexCollection[]> {\n    const names = await this.listVertexCollections();\n    return names.map((name) => new GraphVertexCollection(this._db, name, this));\n  }\n\n  /**\n   * Adds the given collection to this graph as a vertex collection.\n   *\n   * @param collection - Collection to add to the graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * await graph.addVertexCollection(\"more-vertices\");\n   * // The collection \"more-vertices\" has been added to the graph\n   * const extra = db.collection(\"extra-vertices\");\n   * await graph.addVertexCollection(extra);\n   * // The collection \"extra-vertices\" has been added to the graph\n   * ```\n   */\n  addVertexCollection(\n    collection: string | collections.ArangoCollection,\n    options: AddVertexCollectionOptions = {}\n  ): Promise<GraphDescription> {\n    const { satellites, ...opts } = options;\n    return this._db.request(\n      {\n        method: \"POST\",\n        pathname: `/_api/gharial/${encodeURIComponent(this._name)}/vertex`,\n        body: {\n          collection: collections.collectionToString(collection),\n          options: {\n            ...opts,\n            satellites: satellites?.map(collections.collectionToString),\n          },\n        },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Removes the given collection from this graph as a vertex collection.\n   *\n   * @param collection - Collection to remove from the graph.\n   * @param dropCollection - If set to `true`, the collection will also be\n   * deleted from the database.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * await graph.removeVertexCollection(\"start-vertices\");\n   * // The collection \"start-vertices\" is no longer part of the graph.\n   * ```\n   */\n  removeVertexCollection(\n    collection: string | collections.ArangoCollection,\n    dropCollection: boolean = false\n  ): Promise<GraphDescription> {\n    return this._db.request(\n      {\n        method: \"DELETE\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this._name\n        )}/vertex/${encodeURIComponent(collections.collectionToString(collection))}`,\n        search: {\n          dropCollection,\n        },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Returns a {@link GraphEdgeCollection} instance for the given collection\n   * name representing the collection in this graph.\n   *\n   * @param T - Type to use for document data. Defaults to `any`.\n   * @param collection - Name of the edge collection.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * const graphEdgeCollection = graph.edgeCollection(\"edges\");\n   * // Access the underlying EdgeCollection API:\n   * const edgeCollection = graphEdgeCollection.collection;\n   * ```\n   */\n  edgeCollection<T extends Record<string, any> = any>(\n    collection: string | collections.ArangoCollection\n  ): GraphEdgeCollection<T> {\n    return new GraphEdgeCollection<T>(\n      this._db,\n      collections.collectionToString(collection),\n      this\n    );\n  }\n\n  /**\n   * Fetches all edge collections of this graph from the database and returns\n   * an array of their names.\n   *\n   * See also {@link Graph#edgeCollections}.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * const edgeCollectionNames = await graph.listEdgeCollections();\n   * // [\"edges\"]\n   * ```\n   */\n  listEdgeCollections(): Promise<string[]> {\n    return this._db.request(\n      { pathname: `/_api/gharial/${encodeURIComponent(this._name)}/edge` },\n      (res) => res.parsedBody.collections\n    );\n  }\n\n  /**\n   * Fetches all edge collections of this graph from the database and returns\n   * an array of {@link GraphEdgeCollection} instances.\n   *\n   * See also {@link Graph#listEdgeCollections}.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * const graphEdgeCollections = await graph.edgeCollections();\n   * for (const collection of graphEdgeCollection) {\n   *   console.log(collection.name);\n   *   // \"edges\"\n   * }\n   * ```\n   */\n  async edgeCollections(): Promise<GraphEdgeCollection[]> {\n    const names = await this.listEdgeCollections();\n    return names.map((name) => new GraphEdgeCollection(this._db, name, this));\n  }\n\n  /**\n   * Adds an edge definition to this graph.\n   *\n   * @param edgeDefinition - Definition of a relation in this graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * await graph.addEdgeDefinition({\n   *   collection: \"edges\",\n   *   from: [\"start-vertices\"],\n   *   to: [\"end-vertices\"],\n   * });\n   * // The edge definition has been added to the graph\n   * ```\n   */\n  addEdgeDefinition(\n    edgeDefinition: EdgeDefinitionOptions,\n    options: AddEdgeDefinitionOptions = {}\n  ): Promise<GraphDescription> {\n    const { satellites, ...opts } = options;\n    return this._db.request(\n      {\n        method: \"POST\",\n        pathname: `/_api/gharial/${encodeURIComponent(this._name)}/edge`,\n        body: {\n          ...coerceEdgeDefinition(edgeDefinition),\n          options: {\n            ...opts,\n            satellites: satellites?.map(collections.collectionToString),\n          },\n        },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Replaces an edge definition in this graph. The existing edge definition\n   * for the given edge collection will be overwritten.\n   *\n   * @param edgeDefinition - Definition of a relation in this graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * await graph.replaceEdgeDefinition({\n   *   collection: \"edges\",\n   *   from: [\"start-vertices\"],\n   *   to: [\"other-vertices\"],\n   * });\n   * // The edge definition for \"edges\" has been replaced\n   * ```\n   */\n  replaceEdgeDefinition(\n    edgeDefinition: EdgeDefinitionOptions,\n    options?: ReplaceEdgeDefinitionOptions\n  ): Promise<GraphDescription>;\n  /**\n   * Replaces an edge definition in this graph. The existing edge definition\n   * for the given edge collection will be overwritten.\n   *\n   * @param collection - Edge collection for which to replace the definition.\n   * @param edgeDefinition - Definition of a relation in this graph.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * await graph.replaceEdgeDefinition(\"edges\", {\n   *   collection: \"edges\",\n   *   from: [\"start-vertices\"],\n   *   to: [\"other-vertices\"],\n   * });\n   * // The edge definition for \"edges\" has been replaced\n   * ```\n   */\n  replaceEdgeDefinition(\n    collection: string | collections.ArangoCollection,\n    edgeDefinition: EdgeDefinitionOptions,\n    options?: ReplaceEdgeDefinitionOptions\n  ): Promise<GraphDescription>;\n  replaceEdgeDefinition(\n    collectionOrEdgeDefinitionOptions:\n      | string\n      | collections.ArangoCollection\n      | EdgeDefinitionOptions,\n    edgeDefinitionOrOptions?:\n      | EdgeDefinitionOptions\n      | ReplaceEdgeDefinitionOptions,\n    options: ReplaceEdgeDefinitionOptions = {}\n  ) {\n    let collection = collectionOrEdgeDefinitionOptions as\n      | string\n      | collections.ArangoCollection;\n    let edgeDefinition = edgeDefinitionOrOptions as EdgeDefinitionOptions;\n    if (\n      edgeDefinitionOrOptions &&\n      !edgeDefinitionOrOptions.hasOwnProperty(\"collection\")\n    ) {\n      options = edgeDefinitionOrOptions as ReplaceEdgeDefinitionOptions;\n      edgeDefinitionOrOptions = undefined;\n    }\n    if (!edgeDefinitionOrOptions) {\n      edgeDefinition =\n        collectionOrEdgeDefinitionOptions as EdgeDefinitionOptions;\n      collection = edgeDefinition.collection;\n    }\n    const { satellites, ...opts } = options;\n    return this._db.request(\n      {\n        method: \"PUT\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this._name\n        )}/edge/${encodeURIComponent(collections.collectionToString(collection))}`,\n        body: {\n          ...coerceEdgeDefinition(edgeDefinition),\n          options: {\n            ...opts,\n            satellites: satellites?.map(collections.collectionToString),\n          },\n        },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n\n  /**\n   * Removes the edge definition for the given edge collection from this graph.\n   *\n   * @param collection - Edge collection for which to remove the definition.\n   * @param dropCollection - If set to `true`, the collection will also be\n   * deleted from the database.\n   *\n   * @example\n   * ```js\n   * const db = new Database();\n   * const graph = db.graph(\"some-graph\");\n   * const info = await graph.create([\n   *   {\n   *     collection: \"edges\",\n   *     from: [\"start-vertices\"],\n   *     to: [\"end-vertices\"],\n   *   },\n   * ]);\n   * await graph.removeEdgeDefinition(\"edges\");\n   * // The edge definition for \"edges\" has been replaced\n   * ```\n   */\n  removeEdgeDefinition(\n    collection: string | collections.ArangoCollection,\n    dropCollection: boolean = false\n  ): Promise<GraphDescription> {\n    return this._db.request(\n      {\n        method: \"DELETE\",\n        pathname: `/_api/gharial/${encodeURIComponent(\n          this._name\n        )}/edge/${encodeURIComponent(collections.collectionToString(collection))}`,\n        search: {\n          dropCollection,\n        },\n      },\n      (res) => res.parsedBody.graph\n    );\n  }\n}\n//#endregion\n"]}